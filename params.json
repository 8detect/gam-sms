{"name":"Gam-sms","body":"### SMS sender/receiver script with a GSM modem using AT+ commands\r\n\r\n#### Operation modes:\r\n* Serial (GSM modem conected via Serial interface)\r\n* Http (GSM modem connected trough a Serial-Ethernet adapter)\r\n\r\n#### Serial example\r\n```\r\nrequire_once('Sms.php');\r\nrequire_once('Sms/Interface.php');\r\nrequire_once('Sms/Serial.php');\r\n\r\n$pin = 1234;\r\n\r\ntry {\r\n    $serial = new Sms_Serial;\r\n    $serial->deviceSet(\"/dev/ttyS0\");\r\n    $serial->confBaudRate(9600);\r\n    $serial->confParity('none');\r\n    $serial->confCharacterLength(8);\r\n\r\n    $sms = Sms::factory($serial)->insertPin($pin);\r\n\r\n    if ($sms->sendSMS(555987654, \"test Hi\")) {\r\n        echo \"SMS sent\\n\";\r\n    } else {\r\n        echo \"Sent Error\\n\";\r\n    }\r\n\r\n    // Now read inbox\r\n    foreach ($sms->readInbox() as $in) {\r\n        echo\"tlfn: {$in['tlfn']} date: {$in['date']} {$in['hour']}\\n{$in['msg']}\\n\";\r\n\r\n        // now delete sms\r\n        if ($sms->deleteSms($in['id'])) {\r\n            echo \"SMS Deleted\\n\";\r\n        }\r\n    }\r\n} catch (Exception $e) {\r\n    switch ($e->getCode()) {\r\n        case Sms::EXCEPTION_NO_PIN:\r\n            echo \"PIN Not set\\n\";\r\n            break;\r\n        case Sms::EXCEPTION_PIN_ERROR:\r\n            echo \"PIN Incorrect\\n\";\r\n            break;\r\n        case Sms::EXCEPTION_SERVICE_NOT_IMPLEMENTED:\r\n            echo \"Service Not implemented\\n\";\r\n            break;\r\n        default:\r\n            echo $e->getMessage();\r\n    }\r\n}\r\n```\r\n\r\n#### Serial over http converter example\r\n```\r\n<?php \r\nrequire_once('Sms.php'); \r\nrequire_once('Sms/Interface.php'); \r\nrequire_once('Sms/Http.php'); \r\n\r\n$serialEternetConverterIP = '192.168.1.10'; \r\n$serialEternetConverterPort = 1113; \r\n$pin = 1234; \r\ntry {\r\n     $sms = Sms::factory(new Sms_Http($serialEternetConverterIP, $serialEternetConverterPort));\r\n     $sms->insertPin($pin);\r\n\r\n    if ($sms->sendSMS(555987654, \"test Hi\")) {\r\n        echo \"SMS Sent\\n\";\r\n    } else {\r\n        echo \"Sent Error\\n\";\r\n    }\r\n\r\n    // Now read inbox\r\n    foreach ($sms->readInbox() as $in) {\r\n        echo\"tlfn: {$in['tlfn']} date: {$in['date']} {$in['hour']}\\n{$in['msg']}\\n\";\r\n\r\n        // now delete sms\r\n        if ($sms->deleteSms($in['id'])) {\r\n            echo \"SMS Deleted\\n\";\r\n        }\r\n    }\r\n} catch (Exception $e) {\r\n    switch ($e->getCode()) {\r\n        case Sms::EXCEPTION_NO_PIN:\r\n            echo \"PIN Not set\\n\";\r\n            break;\r\n        case Sms::EXCEPTION_PIN_ERROR:\r\n            echo \"PIN Incorrect\\n\";\r\n            break;\r\n        case Sms::EXCEPTION_SERVICE_NOT_IMPLEMENTED:\r\n            echo \"Service Not implemented\\n\";\r\n            break;\r\n        default:\r\n            echo $e->getMessage();\r\n    }\r\n}\r\n```\r\n\r\nMore info:\r\nhttp://gonzalo123.wordpress.com/2011/03/21/howto-sendread-smss-using-a-gsm-modem-at-commands-and-php/\r\n","tagline":"SMS sender/receiver script with a GSM modem using AT+ commands with PHP","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}